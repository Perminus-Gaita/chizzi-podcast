File Structure:
```
└── DepositNotificationCard.jsx
└── SponsorshipNotificationCard.jsx
└── TournamentNotificationCard.jsx
└── WorkspaceNotificatonCard.jsx

```

File Contents:

File: DepositNotificationCard.jsx
```jsx
import React from 'react';import{X,AlertCircle,CheckCircle2,CreditCard,Wallet}from "lucide-react";import{Button}from "@/components/ui/button";import moment from 'moment';const DepositNotification=({notification,onDelete,isLoading})=>{const isSuccess=notification.status==="success";const bgColor=isSuccess ? "bg-green-800":"bg-red-800";const formatPaymentMethod=(method)=>{const paymentMethods={'pending':'Pending','wufwufWallet':'Wufwuf Wallet','paystackCard':'Card','paystackMpesa':'M-Pesa','mpesa':'M-Pesa'};return paymentMethods[method] || method;};const formatAmount=(amount,currency)=>{const convertedAmount=amount / 100;const currencyLocales={'KES':'en-KE','USD':'en-US',};const locale=currencyLocales[currency] || 'en-US';try{return new Intl.NumberFormat(locale,{style:'currency',currency:currency || 'USD',minimumFractionDigits:2,maximumFractionDigits:2,}).format(convertedAmount);}catch (error){return `${currency}${convertedAmount.toFixed(2)}`;}};return ( <div className={`${bgColor}bg-opacity-50 rounded-lg p-4`}> <div className="flex items-start justify-between">{}<div className="flex flex-grow"> <div className="flex-shrink-0 mr-4">{isSuccess ? ( <div className="bg-green-500 bg-opacity-20 p-2 rounded-full"> <CheckCircle2 className="h-6 w-6 text-green-300" /> </div> ):( <div className="bg-red-500 bg-opacity-20 p-2 rounded-full"> <AlertCircle className="h-6 w-6 text-red-300" /> </div> )}</div> <div className="flex-grow">{}<div className="flex items-center gap-2"> <CreditCard className="h-4 w-4 text-gray-400" /> <p className="text-[15px] font-medium">{formatAmount( notification.metadata?.amount,notification.metadata?.currency )}{notification.metadata?.paymentChannel && ( <span className="text-gray-400 text-xs ml-2"> via{formatPaymentMethod(notification.metadata.paymentChannel)}</span> )}</p> </div>{}<p className="text-[15px] mt-1">{notification.message}</p>{}{notification.details && ( <p className="text-sm text-gray-300 mt-1">{notification.details}</p> )}{}{isSuccess && notification.metadata?.walletBalance && ( <div className="flex items-center gap-2 mt-2 text-gray-300"> <Wallet className="h-4 w-4" /> <span className="text-sm"> Balance:{formatAmount( notification.metadata.walletBalance,notification.metadata?.currency )}</span> </div> )}{}{notification.relatedId && ( <p className="text-xs text-gray-400 mt-1"> Transaction ID:{notification.relatedId}</p> )}{}<p className="text-xs text-gray-400 mt-2">{moment(notification.createdAt).fromNow()}</p> </div> </div>{}<Button onClick={(e)=>{e.stopPropagation();onDelete?.(notification._id);}}variant="ghost" size="sm" disabled={isLoading}className="ml-2 flex-shrink-0 -mt-1" > <X className="h-4 w-4" /> </Button> </div> </div> );};export default DepositNotification;
```

File: SponsorshipNotificationCard.jsx
```jsx
import React,{useState}from 'react';import{X,Trophy,ChevronDown,ChevronUp}from "lucide-react";import{Button}from "@/components/ui/button";import Link from "next/link";import moment from 'moment';const UserAvatar=({user,size="medium"})=>{const getInitialLetter=(name)=>{if (!name || typeof name !=='string') return "?";return name.charAt(0).toUpperCase();};const stringToColor=(str)=>{if (!str || typeof str !=='string') return "#808080";let hash=0;for (let i=0;i < str.length;i++){hash=str.charCodeAt(i) + ((hash << 5) - hash);}let color='#';for (let i=0;i < 3;i++){const value=(hash >> (i * 8)) & 0xff;color +=('00' + value.toString(16)).substr(-2);}return color;};const backgroundColor=stringToColor(user?.name);const initial=getInitialLetter(user?.name);const sizeClass=size==="small" ? "w-5 h-5 text-xs":"w-10 h-10 text-sm";return ( <div className={`${sizeClass}rounded-full flex items-center justify-center text-white font-bold overflow-hidden`}style={{backgroundColor}}>{user?.profilePicture ? ( <img src={user.profilePicture}alt={user?.name || 'User avatar'}className="w-full h-full object-cover" /> ):( <span className="truncate px-1">{initial}</span> )}</div> );};const formatMessage=(message,mentions)=>{if (!message || !Array.isArray(mentions)) return "";let formattedMessage=message;mentions.forEach(mention=>{if (mention.type==="user"){formattedMessage=formattedMessage.replace( `@USER:${mention._id}`,`{{user:${mention._id}}}` );}});const parts=formattedMessage.split(/({{user:[^}]+}})/);return parts.map((part,index)=>{const userMatch=part.match(/{{user:([^}]+)}}/);if (userMatch){const userId=userMatch[1];const user=mentions.find(m=> m._id===userId);if (user){return ( <Link key={`user-${index}`}href={`/@${user.username}`}onClick={(e)=> e.stopPropagation()}className="inline-flex items-center gap-1 hover:underline" > <UserAvatar user={user}size="small" /> <span className="font-bold text-gray-200">{user.name}</span> </Link> );}}return <span key={`text-${index}`}>{part}</span>;});};const TournamentSponsorshipNotification=({notification,onDelete,isLoading})=>{const [isExpanded,setIsExpanded]=useState(false);const generateGradient=()=>{const colors=[ ['from-blue-500 to-purple-500','bg-blue-500'],['from-green-500 to-teal-500','bg-green-500'],['from-purple-500 to-pink-500','bg-purple-500'],['from-red-500 to-yellow-500','bg-red-500'],];const randomIndex=Math.floor(Math.random() * colors.length);return colors[randomIndex];};const [gradientClasses]=useState(generateGradient());const formatAmount=(amount,currency="KES")=>{if (!amount) return "";const convertedAmount=amount / 100;return new Intl.NumberFormat("en-KE",{style:"currency",currency:currency,}).format(convertedAmount);};const hasLongContent=notification.details?.length > 80;return ( <div className="bg-gray-800 bg-opacity-50 rounded-lg p-4"> <div className="flex items-start justify-between w-full"> <div className="flex flex-grow">{}<div className="flex-shrink-0 mr-4"> <div className={`w-16 h-16 rounded-lg bg-gradient-to-br ${gradientClasses[0]}flex items-center justify-center`}> <Trophy className="h-8 w-8 text-white" /> </div> </div> <div className="flex-grow">{}<div className="relative group"> <h3 className="text-lg font-semibold truncate pr-4"> Tournament </h3> <div className="absolute inset-0 z-10"> <h3 className="text-lg font-semibold invisible group-hover:visible bg-gray-800/95 whitespace-normal"> Tournament </h3> </div> </div>{}<div className="grid grid-cols-2 gap-4 text-sm mt-1"> <div className="flex flex-col space-y-0"> <span className="text-gray-400 text-xs">Purchase</span> <span className="font-medium text-gray-200">{formatAmount(notification.metadata.purchaseAmount,notification.metadata.currency)}</span> </div> <div className="flex flex-col space-y-0"> <span className="text-gray-400 text-xs">Sponsorship</span> <span className="font-medium text-gray-200">{formatAmount(notification.metadata.sponsorshipAmount,notification.metadata.currency)}</span> </div> </div>{}<p className="text-[15px] text-gray-200 mt-4">{formatMessage(notification.message,notification.mentions)}</p>{}{notification.details && ( <div className={`space-y-2 transition-all duration-200 ${!isExpanded ? "hidden":""}`}> <p className="text-sm text-gray-400 mt-2">{notification.details}</p> </div> )}{}<div className="flex items-center justify-between mt-2"> <p className="text-xs text-gray-400">{moment(notification.createdAt).fromNow()}</p>{hasLongContent && ( <Button variant="ghost" size="sm" onClick={()=> setIsExpanded(!isExpanded)}className="text-xs hover:text-white px-2 py-1 text-gray-400" >{isExpanded ? ( <ChevronUp className="h-4 w-4" /> ):( <ChevronDown className="h-4 w-4" /> )}</Button> )}</div> </div> </div>{}<Button onClick={(e)=>{e.stopPropagation();onDelete?.(notification._id);}}variant="ghost" size="sm" disabled={isLoading}className="ml-2 flex-shrink-0 -mt-1" > <X className="h-4 w-4" /> </Button> </div> </div> );};export default TournamentSponsorshipNotification;
```

File: TournamentNotificationCard.jsx
```jsx
"use client";import React,{useEffect,useState,useMemo}from "react";import{useDispatch,useSelector}from "react-redux";import{init_page}from "@/app/store/pageSlice";import axios from "axios";import{useNotificationsHandler}from "@/lib/notifications";import MiniLoader from "@/components/Loader/MiniLoader";import WorkspaceNotification from "@/components/Notifications/WorkspaceNotificatonCard";import DepositNotification from "@/components/Notifications/DepositNotificationCard";import{DropdownMenu,DropdownMenuContent,DropdownMenuItem,DropdownMenuTrigger,DropdownMenuSeparator,}from "@/components/ui/dropdown-menu";import{Trophy,Timer,AlertCircle,X,Users,Bell,Trash2,Clock,Filter,UserMinus,UserPlus,ChevronUp,ChevronDown,}from "lucide-react";import{Button}from "@/components/ui/button";import moment from "moment";const FILTER_CONFIGS={all:{label:"All Notifications",filter:()=> true,},unread:{label:"Unread",filter:(notification)=> !notification.isRead,},tournaments:{label:"Tournaments",filter:(notification)=> [ "registrationConfirmed","tournamentStartingSoon","matchReady","tournamentJoin","tournamentLeave","tournamentCreated","tournamentModified","tournamentCancelled","tournamentParticipantJoined","tournamentParticipantLeft","matchResult","roundAdvancement","tournamentElimination","tournamentVictory","tournamentComplete","prizeAwarded",].includes(notification.type),},deposits:{label:"Deposits",filter:(notification)=> ["successDepositing","errorDepositing"].includes(notification.type),},workspace:{label:"Workspace",filter:(notification)=> [ "newWorkspaceInvite","acceptedWorkspaceInvite","declinedWorkspaceInvite",].includes(notification.type),},};const TournamentNotificationCard=({notification,onDelete,isLoading})=>{const [isExpanded,setIsExpanded]=useState(false);const messageLength=notification.message?.length || 0;const hasLongContent=messageLength > 120 || (notification.details && notification.details.length > 80) || (notification.metadata?.buyIn && notification.metadata?.matchName) || (notification.metadata?.refundDetails && notification.metadata?.remainingSpots);const getNotificationConfig=(type)=>{const configs={tournamentJoin:{icon:UserPlus,bgColor:"bg-green-800",iconBg:"bg-green-500",textColor:"text-green-300",},tournamentLeave:{icon:UserMinus,bgColor:"bg-orange-800",iconBg:"bg-orange-500",textColor:"text-orange-300",},tournamentParticipantJoined:{icon:UserPlus,bgColor:"bg-blue-800",iconBg:"bg-blue-500",textColor:"text-blue-300",},tournamentParticipantLeft:{icon:UserMinus,bgColor:"bg-orange-800",iconBg:"bg-orange-500",textColor:"text-orange-300",},};return ( configs[type] ||{icon:AlertCircle,bgColor:"bg-gray-800",iconBg:"bg-gray-500",textColor:"text-gray-300",});};const config=getNotificationConfig(notification.type);const Icon=config.icon;const formatAmount=(amount,currency="KES")=>{if (!amount) return "";const convertedAmount=amount / 100;return new Intl.NumberFormat("en-KE",{style:"currency",currency:currency,}).format(convertedAmount);};return ( <div className={`${config.bgColor}bg-opacity-50 rounded-lg p-4`}> <div className="flex items-start justify-between"> <div className="flex flex-grow"> <div className="flex-shrink-0 mr-4"> <div className={`${config.iconBg}bg-opacity-20 p-2 rounded-full`}> <Icon className={`h-6 w-6 ${config.textColor}`}/> </div> </div> <div className="flex-grow">{}<div className="relative"> <p className={`text-[15px] break-words ${!isExpanded && hasLongContent ? "line-clamp-2":""}`}>{notification.message}</p>{hasLongContent && !isExpanded && ( <div className="absolute bottom-0 right-0 bg-gradient-to-l from-gray-800/50 pl-4"> <span className="text-xs text-gray-400">...</span> </div> )}</div>{}<div className={`mt-2 space-y-2 transition-all duration-200 ${!isExpanded && hasLongContent ? "hidden":""}`}>{}{notification.metadata?.matchName && ( <p className="text-sm text-gray-300"> Match:{notification.metadata.matchName}</p> )}{notification.metadata?.opponent && ( <p className="text-sm text-gray-300"> Opponent:{notification.metadata.opponent}</p> )}{}{notification.metadata?.buyIn && ( <div className="space-y-1"> <p className="text-sm text-gray-300"> Entry Fee:{" "}{formatAmount(notification.metadata.buyIn.entryFee)}</p> <p className="text-sm text-gray-300"> Prize Pool:{" "}{formatAmount(notification.metadata.buyIn.prizePool)}</p> </div> )}{}{notification.metadata?.refundDetails && ( <p className="text-sm text-gray-300"> Refund Amount:{" "}{formatAmount( notification.metadata.refundDetails.amount,notification.metadata.refundDetails.currency )}</p> )}{}{notification.metadata?.remainingSpots && ( <p className="text-sm text-gray-300"> Remaining Spots:{notification.metadata.remainingSpots}</p> )}{}{notification.details && ( <p className="text-sm text-gray-300">{notification.details}</p> )}</div>{}<div className="flex items-center justify-between mt-2"> <p className="text-xs text-gray-400">{moment(notification.createdAt).fromNow()}</p>{hasLongContent && ( <Button variant="ghost" size="sm" onClick={()=> setIsExpanded(!isExpanded)}className="text-xs text-gray-400 hover:text-white px-2 py-1" >{isExpanded ? ( <ChevronUp className="h-4 w-4" /> ):( <ChevronDown className="h-4 w-4" /> )}</Button> )}</div> </div> </div> <Button onClick={(e)=>{e.stopPropagation();onDelete?.(notification._id);}}variant="ghost" size="sm" disabled={isLoading}className="ml-2 flex-shrink-0 -mt-1" > <X className="h-4 w-4" /> </Button> </div> </div> );};export default TournamentNotificationCard;
```

File: WorkspaceNotificatonCard.jsx
```jsx
import React from 'react';import moment from 'moment';import Link from 'next/link';const UserAvatar=({user,size="medium"})=>{const getInitialLetter=(name)=>{if (!name || typeof name !=='string') return "?";return name.charAt(0).toUpperCase();};const stringToColor=(str)=>{if (!str || typeof str !=='string') return "#808080";let hash=0;for (let i=0;i < str.length;i++){hash=str.charCodeAt(i) + ((hash << 5) - hash);}let color="#";for (let i=0;i < 3;i++){const value=(hash >> (i * 8)) & 0xff;color +=("00" + value.toString(16)).substr(-2);}return color;};const backgroundColor=stringToColor(user?.name);const initial=getInitialLetter(user?.name);const sizeClass=size==="small" ? "w-6 h-6 text-xs":"w-10 h-10 text-sm";return ( <div className={`${sizeClass}rounded-full flex items-center justify-center text-white font-bold overflow-hidden`}style={{backgroundColor}}>{user?.profilePicture ? ( <img src={user.profilePicture}alt={user?.name || 'User avatar'}className="w-full h-full object-cover" /> ):( <span className="truncate px-1">{initial}</span> )}</div> );};const formatMessage=(message,mentions)=>{if (!message || !Array.isArray(mentions)) return "";let formattedMessage=message;const user=mentions.find((m)=> m?.type==="user");const workspace=mentions.find((m)=> m?.type==="workspace");if (user?._id){formattedMessage=formattedMessage.replace( `@USER:${user._id}`,"{{user}}" );}if (workspace?._id){formattedMessage=formattedMessage.replace( `@WORKSPACE:${workspace._id}`,"{{workspace}}" );}const parts=formattedMessage.split(/({{user}}|{{workspace}})/);return parts.map((part,index)=>{if (part==="{{user}}" && user){return ( <Link key={`user-${index}`}href={`/@${user.username}`}onClick={(e)=> e.stopPropagation()}className="font-bold hover:underline" >{user.name}</Link> );}if (part==="{{workspace}}" && workspace){return ( <Link key={`workspace-${index}`}href={`/@${workspace.username}`}onClick={(e)=> e.stopPropagation()}className="font-bold hover:underline inline-flex items-center" >{workspace.name}<span className="ml-1"> <UserAvatar user={workspace}size="small" /> </span> </Link> );}return <span key={`text-${index}`}>{part}</span>;});};const WorkspaceNotification=({notification})=>{if (!notification){return null;}const user=notification.mentions?.find((m)=> m?.type==="user");const workspace=notification.mentions?.find((m)=> m?.type==="workspace");let href="#";if (notification.type==="newWorkspaceInvite" && notification.invite?._id){href=`/workspace/respond-to-an-invite/${notification.invite._id}`;}else if ( (notification.type==="acceptedWorkspaceInvite" || notification.type==="declinedWorkspaceInvite") && workspace?.username ){href=`/@${workspace.username}`;}if (!user){return null;}return ( <div onClick={()=> (window.location.href=href)}className="bg-gray-800 rounded-lg p-4 hover:bg-gray-700 cursor-pointer" > <div className="flex flex-col space-y-3"> <div className="flex items-center"> <Link href={`/@${user.username}`}onClick={(e)=> e.stopPropagation()}className="flex-shrink-0" > <UserAvatar user={user}/> </Link> <div className="flex flex-col justify-center ml-1.5 min-w-0"> <Link href={`/@${user.username}`}onClick={(e)=> e.stopPropagation()}className="font-semibold hover:underline text-[14px] leading-tight truncate" >{user.name}</Link> <Link href={`/@${user.username}`}onClick={(e)=> e.stopPropagation()}className="text-gray-400 text-[14px] -mt-[3px] truncate hover:underline" > @{user.username}</Link> </div> </div> <div className="pl-1"> <p className="text-[15px]">{formatMessage(notification.message,notification.mentions)}</p> <p className="text-xs text-gray-400 mt-1">{moment(notification.createdAt).fromNow()}</p> </div> </div> </div> );};export default WorkspaceNotification;
```

